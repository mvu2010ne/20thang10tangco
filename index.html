<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíå M√≥n Qu√† 20/10 T·∫∑ng C√¥ Gi√°o üíå</title> 
    <style>
        /* --- CSS N·ªÄN V√Ä TRANG TR√ç --- */
        body {
            font-family: 'Times New Roman', Times, serif;
            background: linear-gradient(to right top, #e3f2fd, #bbdefb, #90caf9); /* ƒê·ªïi t√¥ng m√†u nh·∫π nh√†ng h∆°n */
            color: #1a237e;
            text-align: center;
            padding: 20px;
            margin: 0;
            overflow-x: hidden;
        }

        #container {
            max-width: 800px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            opacity: 0; 
            transition: opacity 2s;
        }

        h1 {
            color: #1565c0;
            font-size: 2.5em;
            text-shadow: 1px 1px 3px #90caf9;
            margin-bottom: 20px;
        }

        /* --- PH·∫¶N H·ªéI NH·∫†C --- */
        #music-question {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px dashed #42a5f5;
            border-radius: 10px;
        }

        .btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        #btn-yes { background-color: #64b5f6; color: white; }
        #btn-yes:hover { background-color: #2196f3; }
        #btn-no { background-color: #bbdefb; color: #1a237e; }
        #btn-no:hover { background-color: #90caf9; }

        #content { display: none; }

        /* Khung ch·ªØ nh·∫≠t cho th∆∞ */
        #letter-box {
            background-color: #e3f2fd; /* M√†u n·ªÅn th∆∞ thay ƒë·ªïi */
            border: 1px solid #90caf9;
            padding: 25px;
            text-align: left;
            border-radius: 10px;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.1);
            white-space: pre-wrap;
            min-height: 250px;
            margin-top: 20px;
        }

        /* --- B√ìNG BAY V√Ä B√ÅNH KEM --- */
        .balloon {
            width: 40px; height: 50px; background: #64b5f6; /* ƒê·ªïi m√†u b√≥ng bay */
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: absolute; bottom: -100px; box-shadow: inset -5px -5px 10px rgba(0,0,0,0.2);
            opacity: 0; animation: float 10s ease-in-out infinite; z-index: 10;
        }
        .balloon::before {
            content: ''; position: absolute; bottom: -10px; left: 50%;
            transform: translateX(-50%); width: 0; height: 0; border-style: solid;
            border-width: 0 5px 10px 5px; border-color: transparent transparent var(--balloon-color) transparent;
        }

        @keyframes float {
            0% { transform: translateY(0); opacity: 0.8; }
            100% { transform: translateY(-120vh); opacity: 0; }
        }

        /* B√°nh kem CSS Art */
        #cake {
            margin: 40px auto 20px; display: none; width: 250px; height: 200px; position: relative;
        }
        .layer { position: absolute; width: 100%; border-radius: 50%; }
        .bottom { height: 80px; background: #bbdefb; top: 120px; box-shadow: 0 5px 5px rgba(0, 0, 0, 0.2); }
        .middle { height: 60px; background: #e3f2fd; top: 60px; z-index: 1; }
        .top { height: 40px; background: #90caf9; top: 20px; z-index: 2; }
        .icing { height: 20px; background: #ffffff; top: 10px; z-index: 3; border-radius: 50%; }
        .candle { position: absolute; width: 5px; height: 20px; background: #f44336; top: -10px; left: 50%; transform: translateX(-50%); z-index: 4; border-radius: 2px; }
        .flame { position: absolute; width: 6px; height: 8px; background: orange; border-radius: 50%; top: -18px; left: 50%; transform: translateX(-50%); z-index: 5; box-shadow: 0 0 5px yellow; }
        .message { position: absolute; top: 60px; width: 100%; text-align: center; font-weight: bold; color: #1565c0; font-size: 0.8em; z-index: 5; }
    </style>
</head>
<body>
    <audio id="bg-music" loop>
        <source src="chill.mp3" type="audio/mp3">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ audio.
    </audio>

    <div id="music-question">
        <h2>üíñ K√≠nh th∆∞a C√¥, ch√∫ng em c√≥ th·ªÉ b·∫≠t m·ªôt b·∫£n nh·∫°c nh·∫π nh√†ng kh√¥ng ·∫°? üíñ</h2>
        <button id="btn-yes" class="btn">V√¢ng ·∫°! üé∂</button>
        <button id="btn-no" class="btn">Kh√¥ng ·∫°ü§´</button>
    </div>
    <div id="container">
        <h1 id="main-title">üíå CH√öC M·ª™NG NG√ÄY PH·ª§ N·ªÆ VI·ªÜT NAM 20 TH√ÅNG 10 üíå</h1>
        
        <div id="content">
            <h2 style="color: #1565c0;">1: L·ªùi Gi·ªõi Thi·ªáu</h2>
            <p id="intro-text" style="font-style: italic; font-size: 1.1em;"></p>
            
            <h2 style="color: #1565c0;">2: B·ª©c Th∆∞ T√¥n Vinh C√¥</h2>
            <div id="letter-box">
                <p id="typing-letter">ƒêang so·∫°n l·ªùi ch√∫c...</p>
            </div>
            
            <h2 id="final-step" style="color: #1565c0; margin-top: 30px; display: none;">3: M√≥n Qu√† B·∫•t Ng·ªù!</h2>

            <div id="balloon-area" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 5;">
            </div>

            <div id="cake">
                <div class="candle"><div class="flame"></div></div>
                <div class="icing"></div>
                <div class="top layer"><div class="message">CH√öC M·ª™NG 20/10</div></div>
                <div class="middle layer"></div>
                <div class="bottom layer"></div>
            </div>

            <p id="closing-message" style="font-size: 1.2em; font-weight: bold; margin-top: 30px; display: none; color: #1565c0;">
                K√≠nh ch√∫c C√¥ lu√¥n m·∫°nh kh·ªèe, h·∫°nh ph√∫c v√† th√†nh c√¥ng!
                <br>
                T·∫≠p th·ªÉ h·ªçc sinh l·ªõp X ‚ù§Ô∏è
            </p>
        </div>
    </div>

    <script>
        // *** ƒê√É X√ìA photoList V√Ä C√ÅC CH·ª®C NƒÇNG LI√äN QUAN ƒê·∫æN ·∫¢NH ***

        // N·ªôi dung th∆∞ (ƒê√£ s·ª≠a ƒë·ªÉ t·∫∑ng C√¥)
        const letterContent = `
K√≠nh g·ª≠i C√¥ gi√°o k√≠nh m·∫øn c·ªßa ch√∫ng em!

Ng√†y 20/10, Ng√†y Ph·ª• N·ªØ Vi·ªát Nam l·∫°i ƒë·∫øn, ƒë√¢y l√† d·ªãp ƒë·ªÉ nh·ªØng ng∆∞·ªùi h·ªçc tr√≤ nh∆∞ ch√∫ng em g·ª≠i l·ªùi tri √¢n s√¢u s·∫Øc nh·∫•t ƒë·∫øn C√¥.

C√¥ kh√¥ng ch·ªâ l√† ng∆∞·ªùi truy·ªÅn ƒë·∫°t ki·∫øn th·ª©c m√† c√≤n l√† ng∆∞·ªùi th·∫Øp s√°ng ∆∞·ªõc m∆°, u·ªën n·∫Øn nh√¢n c√°ch v√† ti·∫øp th√™m ƒë·ªông l·ª±c cho ch√∫ng em tr√™n b∆∞·ªõc ƒë∆∞·ªùng h·ªçc t·∫≠p.

C·∫£m ∆°n C√¥ v√¨ t·∫•t c·∫£ s·ª± t·∫≠n t√¢m, l√≤ng nhi·ªát huy·∫øt v√† s·ª± ki√™n nh·∫´n kh√¥ng m·ªát m·ªèi d√†nh cho ch√∫ng em.

K√≠nh ch√∫c C√¥ lu√¥n gi·ªØ m√£i n·ª• c∆∞·ªùi r·∫°ng r·ª°, d·ªìi d√†o s·ª©c kh·ªèe, h·∫°nh ph√∫c trong cu·ªôc s·ªëng v√† g·∫∑t h√°i th√™m nhi·ªÅu th√†nh c√¥ng trong s·ª± nghi·ªáp tr·ªìng ng∆∞·ªùi cao qu√Ω!

Ch√∫ng em xin ch√¢n th√†nh c·∫£m ∆°n C√¥!

H·ªçc tr√≤: Minh V≈©
`;

        const music = document.getElementById('bg-music');
        const container = document.getElementById('container');
        const content = document.getElementById('content');
        const introText = document.getElementById('intro-text');
        const typingLetter = document.getElementById('typing-letter');
        const finalStep = document.getElementById('final-step');
        // const photoFrame = document.getElementById('photo-frame'); // ƒê√£ lo·∫°i b·ªè
        // const slideshowMessage = document.getElementById('slideshow-message'); // ƒê√£ lo·∫°i b·ªè
        const cakeElement = document.getElementById('cake');
        const closingMessage = document.getElementById('closing-message');
        const musicQuestion = document.getElementById('music-question');
        const balloonArea = document.getElementById('balloon-area');

        // H√†m g√µ ch·ªØ t·ª± ƒë·ªông
        function typeWriter(text, element, speed) {
            let i = 0;
            return new Promise(resolve => {
                function typing() {
                    if (i < text.length) {
                        element.textContent += text.charAt(i);
                        i++;
                        setTimeout(typing, speed);
                    } else {
                        resolve();
                    }
                }
                typing();
            });
        }

        // ƒê√É X√ìA H√ÄM startSlideshow

        // Hi·ªáu ·ª©ng b√≥ng bay
        function startBalloonAnimation() {
            // ƒê·ªïi m√†u b√≥ng bay ph√π h·ª£p v·ªõi t√¥ng m√†u xanh
            const colors = ['#2196f3', '#4fc3f7', '#03a9f4', '#64b5f6', '#90caf9'];
            
            for (let i = 0; i < 15; i++) { // TƒÉng s·ªë l∆∞·ª£ng b√≥ng bay v√¨ ƒë√£ x√≥a ·∫£nh
                const balloon = document.createElement('div');
                balloon.className = 'balloon';
                
                const randomLeft = Math.random() * 80 + 10;
                balloon.style.left = randomLeft + '%';
                
                const color = colors[Math.floor(Math.random() * colors.length)];
                balloon.style.background = color;
                balloon.style.setProperty('--balloon-color', color);
                
                const randomDelay = Math.random() * 5; 
                balloon.style.animationDelay = randomDelay + 's';
                
                balloonArea.appendChild(balloon);
            }
        }


        // B·∫ÆT ƒê·∫¶U CH∆Ø∆†NG TR√åNH CH√çNH (ƒê√£ s·ª≠a k·ªãch b·∫£n)
        function startGift(playMusic) {
            // ·∫®n c√¢u h·ªèi v√† hi·ªán n·ªôi dung ch√≠nh
            musicQuestion.style.display = 'none';
            container.style.opacity = '1';
            content.style.display = 'block';

            // 1. PH√ÅT NH·∫†C & GI·ªöI THI·ªÜU
            let intro = "";
            if (playMusic) {
                try {
                    music.play(); 
                } catch (e) {
                    console.error("Kh√¥ng th·ªÉ ph√°t nh·∫°c 'chill.mp3'. H√£y ki·ªÉm tra t√™n file v√† ƒë∆∞·ªùng d·∫´n.");
                }
                intro = "üîä Tuy·ªát v·ªùi! Ch√∫ng em xin g·ª≠i ƒë·∫øn C√¥ m·ªôt b·∫£n nh·∫°c nh·∫π nh√†ng...";
            } else {
                intro = "ü§´ D·∫° v√¢ng! S·ª± ch√¢n th√†nh n√†y v·∫´n ƒë·ªß ƒë·ªÉ C√¥ c·∫£m th·∫•y vui v·∫ª. Ch√†o m·ª´ng C√¥ ƒë·∫øn v·ªõi b·∫•t ng·ªù nho nh·ªè n√†y!";
            }

            typeWriter(intro, introText, 50)
            .then(() => {
                typingLetter.textContent = ''; 
                return new Promise(resolve => setTimeout(resolve, 1000));
            })
            // 2. G√ï TH∆Ø T·∫∂NG C√î T·ª∞ ƒê·ªòNG
            .then(() => typeWriter(letterContent, typingLetter, 25))
            .then(() => {
                return new Promise(resolve => setTimeout(resolve, 2000)); 
            })
            // 3. HI·ªÜU ·ª®NG CU·ªêI: B√ìNG BAY & B√ÅNH KEM
            .then(() => {
                finalStep.textContent = "3: B√ìNG BAY V√Ä B√ÅNH KEM CH√öC M·ª™NG!";
                finalStep.style.display = 'block';
                
                // Th·∫£ b√≥ng bay
                startBalloonAnimation();

                // Hi·ªán b√°nh kem
                cakeElement.style.display = 'block';
                
                // L·ªùi nh·∫Øn cu·ªëi
                closingMessage.style.display = 'block';
            });
        }

        // --- S·ª∞ KI·ªÜN T∆Ø∆†NG T√ÅC ---
        document.getElementById('btn-yes').addEventListener('click', () => {
            startGift(true);
        });

        document.getElementById('btn-no').addEventListener('click', () => {
            startGift(false);
        });

    </script>
</body>
</html>
